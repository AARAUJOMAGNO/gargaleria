// const inputCategory = document.getElementById('beverage_category');
const cachacaButton = document.getElementById('beverage_genre_cachaÃ§a');
const cervejaButton = document.getElementById('beverage_genre_cerveja');

const fetchCategories = (event) => {
  const categoriesSelector = document.getElementById('beverage_category');
  $.ajax({
    url: `<%= dashboard_get_categories_path %>`,
    data: {"genre": `${event.currentTarget.value}`},
    dataType: "json",
    type: "POST",
    success: function(data) {
      categoriesSelector.innerHTML = '<option value=""></option>'
      data.forEach(function(category){
        categoriesSelector.insertAdjacentHTML('beforeend', `<option value="${category}">${category}</option>`);
      });
    },
    error: function(data) {
      console.log("Error");
    }
  });
};

cachacaButton.addEventListener('click', (event) => { fetchCategories(event) });
cervejaButton.addEventListener('click', (event) => { fetchCategories(event) });

// inputCategory.addEventListener('change', (event) => {
//   if (inputCategory.value === 'Other') {
//     inputCategory.classList.id = 'unselected_input'
//     inputCategory.insertAdjacentHTML("afterend" ,`<input type="text" class="form-control extrainput" name="beverage[category]" id="beverage_category">`);
//   } else {
//     if (document.querySelector(".extrainput")) {
//       const extraInput = document.querySelector('.extrainput');

//       extraInput.id = 'unselected_input';
//       extraInput.classList.add('d-none');
//       inputCategory.id = 'beverage_category';
//     }
//   }
// });

